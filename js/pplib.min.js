function API_callback(e,i,s){PPLIB.sys.callback.main(e,i,s)}var PPLIB={};PPLIB.vk_version="5.74",PPLIB.sys={},PPLIB.sys.info=function(e,i){(i||PPLIB.debug)&&(i?console.log("%c "+e,"color: #ff0000"):console.log("%c "+e,"color: #0000ff"))},PPLIB.sys.lexNum=function(e,i){var s={};return s["5_votes"]="голосов",s["2_votes"]="голоса",s["1_votes"]="голос",s["5_ok"]="ОК",s["2_ok"]="ОК",s["1_ok"]="ОК",s["5_malic"]="мэйликов",s["2_malic"]="мэйлика",s["1_malic"]="мэйлик",s["5_fm"]="ФМ",s["2_fm"]="ФМ",s["1_fm"]="ФМ",s["5_rub"]="рублей",s["2_rub"]="рубля",s["1_rub"]="рубль",s["5_coins"]="монет",s["2_coins"]="монеты",s["1_coins"]="монету",e%100<5||e%100>20?e%10==1?s["1_"+i]:e%10<5&&e%10!=0?s["2_"+i]:s["5_"+i]:s["5_"+i]},PPLIB.convPrice=function(e){return 1==PPLIB.website?[Math.ceil(1*e/7),Math.ceil(1*e/7),PPLIB.sys.lexNum(Math.ceil(1*e/7),"votes")]:2==PPLIB.website?[e,e,PPLIB.sys.lexNum(e,"ok")]:3==PPLIB.website?[e,e,PPLIB.sys.lexNum(e,"malic")]:4==PPLIB.website?[6*e,.06*e,PPLIB.sys.lexNum(.06*e,"fm")]:5==PPLIB.website?[e,e,PPLIB.sys.lexNum(e,"rub")]:6==PPLIB.website?[e,e,PPLIB.sys.lexNum(e,"coins")]:7==PPLIB.website?[e,e,PPLIB.sys.lexNum(e,"rub")]:void 0},PPLIB.getGameLink=function(){return 1==PPLIB.website?"https://vk.com/app"+PPLIB.sys.getJsonFromUrl().api_id:2==PPLIB.website?"https://ok.ru/game/"+PPLIB.sys.getJsonFromUrl().apiconnection.split("_")[0]:3==PPLIB.website?"https://my.mail.ru/apps/"+PPLIB.sys.getJsonFromUrl().app_id:4==PPLIB.website?"https://fotostrana.ru/app/"+PPLIB.sys.getJsonFromUrl().apiId:5==PPLIB.website?"https://games.rambler.ru/online/"+PPLIB.sys.getJsonFromUrl().slug:6==PPLIB.website?"":7==PPLIB.website?"https://games.mail.ru/app/"+PPLIB.api_id:void 0},PPLIB.sys.getJsonFromUrl=function(){var e=location.search.substr(1),i={};return e.split("&").forEach(function(e){var s=e.split("=");i[s[0]]=decodeURIComponent(s[1])}),i},PPLIB.sys.formatDate=function(e){if(null!=e){var i=new Date(e);return isNaN(i.getTime())?void 0:i.getDate()+"."+(i.getMonth()+1)+"."+i.getFullYear()}},PPLIB.sys.formatSex=function(e){var i=0;return 1==PPLIB.website&&(1==e&&(i=2),2==e&&(i=1)),2!=PPLIB.website&&7!=PPLIB.website||("male"==e&&(i=1),"female"==e&&(i=2)),3==PPLIB.website&&(0==e&&(i=1),1==e&&(i=2)),4==PPLIB.website&&("m"==e&&(i=1),"w"==e&&(i=2)),i},PPLIB.sys.convCurUserInfo=function(e){var i={};1==PPLIB.website&&(i.bdate=e.bdate),2!=PPLIB.website&&4!=PPLIB.website||(i.bdate=PPLIB.sys.formatDate(e.birthday)),3==PPLIB.website&&(i.bdate=e.birthday),1!=PPLIB.website&&3!=PPLIB.website&&4!=PPLIB.website||(i.sex=PPLIB.sys.formatSex(e.sex)),2==PPLIB.website&&(i.sex=PPLIB.sys.formatSex(e.gender)),7==PPLIB.website&&(i.sex=PPLIB.sys.formatSex(e.sex)),1!=PPLIB.website&&2!=PPLIB.website&&3!=PPLIB.website||(i.first_name=e.first_name,i.last_name=e.last_name),4==PPLIB.website&&(i.first_name=e.user_name,i.last_name=e.user_lastname),7==PPLIB.website&&(i.first_name=e.nick,i.last_name=""),1==PPLIB.website&&(i.photo_mini=e.photo_50,i.photo_small=e.photo_100,i.photo_big=e.photo_200,i.photo_max=e.photo_max_orig),2==PPLIB.website&&(i.photo_mini=e.pic50x50,i.photo_small=e.pic128x128,i.photo_big=e.pic224x224,i.photo_max=e.pic_max),3==PPLIB.website&&(i.photo_mini=e.pic_50,i.photo_small=e.pic_128,i.photo_big=e.pic_190,i.photo_max=e.pic_big),4==PPLIB.website&&(i.photo_mini=e.photo_small,i.photo_small=e.photo_97,i.photo_big=e.photo_192,i.photo_max=e.photo_big),7==PPLIB.website&&(i.photo_mini=e.avatar,i.photo_small="",i.photo_big="",i.photo_max=""),1==PPLIB.website&&(i.uid=e.id.toString()),2!=PPLIB.website&&3!=PPLIB.website||(i.uid=e.uid),4==PPLIB.website&&(i.uid=e.user_id),7==PPLIB.website&&(i.uid=e.uid);for(var s in i)null!=i[s]&&void 0!=i[s]||delete i[s];return i},PPLIB.init=function(e,i,s,o){PPLIB.website=e,PPLIB.debug=s,1==i.test_mode?PPLIB.test_mode=1:PPLIB.test_mode=0,1==i.mobile?PPLIB.mobile=1:PPLIB.mobile=0;var t=document.createElement("script");if(1==PPLIB.website)t.src="//vk.com/js/api/xd_connection.js?2";else if(2==PPLIB.website)if(PPLIB.soc_id=PPLIB.sys.getJsonFromUrl().logged_user_id,1==PPLIB.mobile){if(void 0===i.client_key||void 0===i.api_id)return void PPLIB.sys.info("ERROR: client_key or api_id is empty",1);if(PPLIB.client_key=i.client_key,PPLIB.api_id=i.api_id,void 0===PPLIB.ok_lib_url)return void PPLIB.sys.info("ERROR: ok_lib_url is empty",1);t.src=PPLIB.ok_lib_url}else t.src="//api.ok.ru/js/fapi5.js";else if(3==PPLIB.website){if(void 0===i.client_key)return void PPLIB.sys.info("ERROR: client_key is empty",1);PPLIB.client_key=i.client_key,t.src="//connect.mail.ru/js/loader.js"}else if(4==PPLIB.website){if(PPLIB.soc_id=PPLIB.sys.getJsonFromUrl().viewerId,void 0===i.client_key||void 0===i.api_id)return void PPLIB.sys.info("ERROR: client_key or api_id is empty",1);PPLIB.client_key=i.client_key,PPLIB.api_id=i.api_id,t.src=PPLIB.sys.getJsonFromUrl().fsapi}else if(5==PPLIB.website)1==PPLIB.test_mode?t.src="//sandbox.games.rambler.ru/assets/ext/rgames.js":t.src="//games.rambler.ru/assets/ext/rgames.js";else if(6==PPLIB.website)t.src=PPLIB.sys.getJsonFromUrl().api_server+"/bundles/gamesiteapi/js/gsapi.js";else if(7==PPLIB.website){if(void 0===i.api_id)return void PPLIB.sys.info("ERROR: api_id is empty",1);PPLIB.api_id=i.api_id,t.src="//games.mail.ru/app/"+PPLIB.api_id+"/static/mailru.core.js"}document.body.appendChild(t),t.onerror=function(){PPLIB.sys.info("ERROR: Platform lib does not loaded",1)},t.onload=function(){if(PPLIB.sys.info("GOOD: Platform lib loaded",0),1==PPLIB.website)window.VK.init(function(){PPLIB.sys.info("GOOD: VK API initialization successed",0),PPLIB.sys.callback.genVK(),o()},function(){PPLIB.sys.info("ERROR: VK API initialization failed ",1)},PPLIB.vk_version);else if(2==PPLIB.website)if(1==PPLIB.mobile){var e={app_id:i.api_id,app_key:i.client_key};window.OKSDK.init(e,function(){PPLIB.sys.info("GOOD: OK API initialization successed",0),o()},function(e){PPLIB.sys.info("ERROR: OK API initialization failed ",1)})}else{var s=window.FAPI.Util.getRequestParameters();window.FAPI.init(s.api_server,s.apiconnection,function(){PPLIB.sys.info("GOOD: OK API initialization successed",0),o()},function(e){PPLIB.sys.info("ERROR: OK API initialization failed ",1)})}else 3==PPLIB.website?window.mailru.loader.require("api",function(){window.mailru.app.init(PPLIB.client_key),PPLIB.sys.callback.genMail(),o()}):4==PPLIB.website?(window.client=new fsapi(PPLIB.api_id,PPLIB.client_key),window.client.init(function(){PPLIB.sys.info("ERROR: FS API initialization failed ",1)}),o()):5==PPLIB.website?(PPLIB.sys.callback.genRam(),window.rgames.init(),o()):6==PPLIB.website?o():7==PPLIB.website&&function(e){function i(e){throw new Error("Could not init external api "+e)}function s(e){externalApi=e,externalApi.getLoginStatus()}window.externalApi=null,console.log(5555),e({appid:PPLIB.api_id,getLoginStatusCallback:function(e){document.getElementById("status");"ok"!=e.status?(PPLIB.sys.info("ERROR STATUS:"),PPLIB.sys.info(e)):o(e.loginStatus)},userInfoCallback:function(e){console.log(1)},userProfileCallback:function(e){console.log(1111),API_callback("pp.userProfile",e)},userFriendsCallback:function(e){API_callback("pp.userFriends",e)},registerUserCallback:function(e){window.top.location.href="https://games.mail.ru/app/"+PPLIB.api_id},paymentReceivedCallback:function(e){console.log(2),API_callback("paymentReceivedCallback",e)}}).then(s,i)}(window.iframeApi)}},PPLIB.callMethod=function(e,i,s,o,t,P,n,r,a,l){if("pp.showSettingsPhoto"==e)1==PPLIB.website?window.VK.callMethod("showSettingsBox",4):2==PPLIB.website?window.FAPI.UI.showPermissions(JSON.stringify(["PHOTO_CONTENT"])):3==PPLIB.website?window.mailru.common.users.requirePermission("photos"):4==PPLIB.website&&window.client.event("appSettings",new Function("data"," PPLIB.sys.callback.main('appSettings', data) "),{request_permission:128});else if("pp.showRequestBox"==e)1==PPLIB.website?window.VK.callMethod("showRequestBox",i,s,o):2==PPLIB.website?window.FAPI.UI.showNotification(s,o,i.split(",")):3==PPLIB.website?window.mailru.app.friends.request({text:s,image_url:t,friends:i.split(","),hash:o}):4==PPLIB.website&&window.client.event("sendMessages",new Function("data"," PPLIB.sys.callback.main('sendMessages', data) "),{message:s,type:1,friendsIds:i,params:o,showCheckAll:1});else if("pp.showInviteBox"==e)1==PPLIB.website?window.VK.callMethod("showInviteBox"):2==PPLIB.website?1==PPLIB.mobile?window.OKSDK.Widgets.invite(window.location):window.FAPI.UI.showInvite(i,"invite"):3==PPLIB.website?window.mailru.app.friends.invite(i):4==PPLIB.website&&window.client.event("invite",new Function("data"," PPLIB.sys.callback.main('invite', data) "));else if("pp.resizeWindow"==e)1==PPLIB.website?window.VK.callMethod("resizeWindow",i,s):2==PPLIB.website?window.FAPI.UI.setWindowSize(i,s):3==PPLIB.website?window.mailru.app.utils.setHeight(s):4==PPLIB.website&&window.client.event("resize",new Function("data"," PPLIB.sys.callback.main('resize', data) "),{width:i,height:s});else if("pp.scrollWindow"==e)1==PPLIB.website?window.VK.callMethod("scrollWindow",i,s):2==PPLIB.website?window.FAPI.UI.scrollTo(0,i):3==PPLIB.website?window.mailru.app.utils.scrollTo(i):4==PPLIB.website&&window.client.event("scrollToY",new Function("data"," PPLIB.sys.callback.main('scrollToY', data) "),{top:i});else if("pp.setTitle"==e)1==PPLIB.website?window.VK.callMethod("setTitle",i):2==PPLIB.website||(3==PPLIB.website?window.mailru.app.utils.setTitle(i):4==PPLIB.website&&window.client.event("setPageTitle",new Function("data"," PPLIB.sys.callback.main('setPageTitle', data) "),{title:i}));else if("pp.setLocation"==e)1==PPLIB.website?window.VK.callMethod("setLocation",i):2==PPLIB.website||(3==PPLIB.website?window.mailru.app.utils.hash.write(i):PPLIB.website);else if("pp.post"==e)1==PPLIB.website?VK.api("wall.post",{message:i,services:"twitter,facebook,instagram",attachments:s+","+o,v:PPLIB.vk_version},function(e){}):2==PPLIB.website?FAPI.UI.postMediatopic({media:[{type:"text",text:i},{type:"photo",list:[{photoId:s}]},{type:"link",url:o}]},!0):3==PPLIB.website?mailru.common.stream.post({title:"Сообщение",text:i,img_url:s,action_links:[{text:"Играть",href:o}]}):4==PPLIB.website&&client.event("postUserEventOnWall",null,{text:i,imgUrl:s,callToAction:"Играть"});else if("pp.buyItem"==e)if(1==PPLIB.website){var d={type:"item",item:i.item};window.VK.callMethod("showOrderBox",d)}else if(2==PPLIB.website)1==PPLIB.mobile?window.OKSDK.Payment.show(i.title,i.price,i.item):window.FAPI.UI.showPayment(i.title,i.description,i.item,i.price,null,null,"ok","true");else if(3==PPLIB.website)window.mailru.app.payments.showDialog({service_id:i.item,service_name:i.title,mailiki_price:i.price});else if(4==PPLIB.website){var p=0;PPLIB.debug&&(p=1),window.client.event("buyItemCallback",function(e){API_callback("buyItemCallback",e)},{itemId:i.item,picUrl:i.img,priceFmCents:i.price,name:i.title,isDebug:p})}else if(5==PPLIB.website)window.rgames.showOrderBox({item:i.item,type:""});else if(6==PPLIB.website){var c=new XMLHttpRequest;c.open("GET",PPLIB.rbk_payurl,!0),c.send(),c.onreadystatechange=function(){4==this.readyState&&console.log(this.responseText)}}else 7==PPLIB.website&&externalApi.paymentFrame({merchant_param:{amount:i.price,description:i.title,item_id:i.item.toString()}});else if(1==PPLIB.website)void 0==i?window.VK.callMethod(e):void 0==s?window.VK.callMethod(e,i):void 0==o?window.VK.callMethod(e,i,s):void 0==t?window.VK.callMethod(e,i,s,o):void 0==P?window.VK.callMethod(e,i,s,o,t):void 0==n&&window.VK.callMethod(e,i,s,o,t,P);else if(2==PPLIB.website)void 0==i?window.FAPI.UI[e]():void 0==s?window.FAPI.UI[e](i):void 0==o?window.FAPI.UI[e](i,s):void 0==t?window.FAPI.UI[e](i,s,o):void 0==P?window.FAPI.UI[e](i,s,o,t):void 0==n&&window.FAPI.UI[e](i,s,o,t,P);else if(3==PPLIB.website){var I=e.split("."),w=window.mailru[I[1]][I[2]][I[3]],B=function(){};void 0==i&&w(B),void 0==s&&w(B,i),void 0==o&&w(B,i,s),void 0==t&&w(B,i,s,o),void 0==P&&w(B,i,s,o,t),void 0==n&&w(B,i,s,o,t,P)}else 4==PPLIB.website&&window.client.event(e,null,i)},PPLIB.api=function(e,i,s){var o=function(i){if(void 0!==i.error)return void PPLIB.sys.info("ERROR REQUEST: error_code: "+i.error.error_code+", error_msg: "+i.error.error_msg,1);if("pp.getCurrentUser"==e&&(i=PPLIB.sys.convCurUserInfo(i.response[0])),"pp.getAppFriends"==e&&(i=i.response),"pp.getFriends"==e&&(i=i.response.items),"pp.hasPhotoPermission"==e&&(i=(4&i.response)>0),"pp.getProfiles"==e){for(var o={},t=0;t<i.response.length;t++)o[i.response[t].id]=PPLIB.sys.convCurUserInfo(i.response[t]);i=o}s(i)},t=function(i,o,t){if(!o)return void PPLIB.sys.info("ERROR REQUEST: error_code: "+t.error_code+", error_msg: "+t.error_msg,1);if("pp.getCurrentUser"==e&&(o=PPLIB.sys.convCurUserInfo(o[0])),"pp.getAppFriends"==e&&(o=o.uids),"pp.getProfiles"==e){for(var P={},n=0;n<o.length;n++)P[o[n].uid]=PPLIB.sys.convCurUserInfo(o[n]);o=P}s(o)},P=function(i){if(void 0!==i.error)return void PPLIB.sys.info("ERROR REQUEST: error_code: "+i.error.error_code+", error_msg: "+i.error.error_msg,1);if("pp.getCurrentUser"==e&&(i=PPLIB.sys.convCurUserInfo(i[0])),"pp.getProfiles"==e){for(var o={},t=0;t<i.length;t++)o[i[t].uid]=PPLIB.sys.convCurUserInfo(i[t]);i=o}s(i)},n=function(i){if(void 0!==i.error)return void PPLIB.sys.info("ERROR REQUEST: error_code: "+i.error.error_code+", error_msg: "+i.error.error_msg,1);if("pp.getCurrentUser"==e&&(i=PPLIB.sys.convCurUserInfo(i.response[PPLIB.soc_id])),"pp.getFriends"==e&&(i=i.response),"pp.getAppFriends"==e&&(i=i.response),"pp.hasPhotoPermission"==e&&(i=(128&i.response.group_mask)>0),"pp.getProfiles"==e){var o={};for(var t in i.response)o[t]=PPLIB.sys.convCurUserInfo(i.response[t]);i=o}s(i)},r=function(i){if(void 0!==i.error)return void PPLIB.sys.info("ERROR REQUEST: error_code: "+i.error.error_code+", error_msg: "+i.error.error_msg,1);if("pp.getCurrentUser"==e&&(i=PPLIB.sys.convCurUserInfo(i)),"pp.getFriends"==e&&(i=i.friends),"pp.hasPhotoPermission"==e&&(i=(128&i.response.group_mask)>0),"pp.getProfiles"==e){var o={};for(var t in i.response)o[t]=PPLIB.sys.convCurUserInfo(i.response[t]);i=o}s(i)};if("pp.getCurrentUser"==e)1==PPLIB.website?window.VK.api("users.get",{V:PPLIB.vk_version,fields:"sex, photo_50,photo_100,photo_200, photo_max_orig, bdate",test_mode:PPLIB.test_mode},o):2==PPLIB.website?1==PPLIB.mobile?window.OKSDK.REST.call("users.getInfo",{uids:PPLIB.soc_id,fields:"PHOTO_ID, PIC50X50, PIC128X128, PIC224X224, PIC_MAX, BIRTHDAY, FIRST_NAME, LAST_NAME, GENDER"},t):window.FAPI.Client.call({method:"users.getInfo",uids:PPLIB.soc_id,fields:"PHOTO_ID, PIC50X50, PIC128X128, PIC224X224, PIC_MAX, BIRTHDAY, FIRST_NAME, LAST_NAME, GENDER"},t):3==PPLIB.website?window.mailru.common.users.getInfo(P):4==PPLIB.website?window.client.api("User.getProfiles",{userIds:PPLIB.soc_id,fields:"user_name, user_lastname, photo_small, photo_97, photo_192, photo_big, birthday, sex"},n):7==PPLIB.website?(PPLIB.addCallback("pp.userProfile",r),externalApi.userProfile()):PPLIB.sys.info("ERROR: Not for this platform.",1);else if("pp.getAppFriends"==e)1==PPLIB.website?window.VK.api("friends.getAppUsers",{V:PPLIB.vk_version,test_mode:PPLIB.test_mode},o):2==PPLIB.website?1==PPLIB.mobile?window.OKSDK.REST.call("friends.getAppUsers",{},t):window.FAPI.Client.call({method:"friends.getAppUsers"},t):3==PPLIB.website?window.mailru.common.friends.getAppUsers(P):4==PPLIB.website?window.client.api("User.getAppFriends",{},n):PPLIB.sys.info("ERROR: Not for this platform.",1);else if("pp.getFriends"==e)1==PPLIB.website?window.VK.api("friends.get",{V:PPLIB.vk_version,test_mode:PPLIB.test_mode},o):2==PPLIB.website?1==PPLIB.mobile?window.OKSDK.REST.call("friends.get",{},t):window.FAPI.Client.call({method:"friends.get"},t):4==PPLIB.website?window.client.api("User.getFriends",{},n):7==PPLIB.website?(PPLIB.addCallback("pp.userFriends",r),externalApi.userFriends()):PPLIB.sys.info("ERROR: Not for this platform.",1);else if("pp.getProfiles"==e)1==PPLIB.website?window.VK.api("users.get",{V:PPLIB.vk_version,user_ids:i.user_ids,fields:"sex, photo_50,photo_100,photo_200, photo_max_orig, bdate",test_mode:PPLIB.test_mode},o):2==PPLIB.website?1==PPLIB.mobile?window.OKSDK.REST.call("users.getInfo",{uids:i.user_ids,fields:"PHOTO_ID, PIC50X50, PIC128X128, PIC224X224, PIC_MAX, BIRTHDAY, FIRST_NAME, LAST_NAME, GENDER"},t):window.FAPI.Client.call({method:"users.getInfo",uids:i.user_ids,fields:"PHOTO_ID, PIC50X50, PIC128X128, PIC224X224, PIC_MAX, BIRTHDAY, FIRST_NAME, LAST_NAME, GENDER"},t):3==PPLIB.website?window.mailru.app.users.getInfo(P,i.user_ids):4==PPLIB.website?window.client.api("User.getProfiles",{userIds:i.user_ids,fields:"user_name, user_lastname, photo_small, photo_97, photo_192, photo_big, birthday, sex"},n):PPLIB.sys.info("ERROR: Not for this platform.",1);else if("pp.isMember"==e)1==PPLIB.website?window.VK.api("groups.isMember",{V:PPLIB.vk_version,group_id:i.group_id,test_mode:PPLIB.test_mode},o):2==PPLIB.website?1==PPLIB.mobile?window.OKSDK.REST.call("group.getUserGroupsByIds",{group_id:i.group_id,uids:PPLIB.soc_id},t):window.FAPI.Client.call({method:"group.getUserGroupsByIds",group_id:i.group_id,uids:[PPLIB.soc_id]},t):3==PPLIB.website?window.mailru.common.users.getInfo(P,i.group_id):4==PPLIB.website?window.client.api("User.checkUserSubscribedGroup",{userId:PPLIB.soc_id,groupId:i.group_id},n):PPLIB.sys.info("ERROR: Not for this platform.",1);else if("pp.hasPhotoPermission"==e)1==PPLIB.website?window.VK.api("account.getAppPermissions",{V:PPLIB.vk_version,test_mode:PPLIB.test_mode},o):2==PPLIB.website?window.FAPI.Client.call({method:"users.hasAppPermission",ext_perm:"PHOTO_CONTENT"},t):3==PPLIB.website?window.mailru.common.users.hasAppPermission(P,"photos"):4==PPLIB.website?window.client.api("User.getUserSettings",{appId:PPLIB.api_id},n):PPLIB.sys.info("ERROR: Not for this platform.",1);else if(1==PPLIB.website)i.V=PPLIB.vk_version,i.test_mode=PPLIB.test_mode,window.VK.api(e,i,o);else if(2==PPLIB.website)1==PPLIB.mobile?window.OKSDK.REST.call(e,i,t):(i.method=e,window.FAPI.Client.call(i,t));else if(3==PPLIB.website){Array.isArray(i)||PPLIB.sys.info("ERROR: param data must be array",1);var a=e.split("."),l=window.mailru[a[1]][a[2]][a[3]];0==i.length&&l(P),1==i.length&&l(P,i[0]),2==i.length&&l(P,i[0],i[1]),3==i.length&&l(P,i[0],i[1],i[2]),4==i.length&&l(P,i[0],i[1],i[2],i[3]),5==i.length&&l(P,i[0],i[1],i[2],i[3],i[4])}else 4==PPLIB.website&&window.client.api(e,i,n)},PPLIB.sys.callback={},PPLIB.sys.callback.list={},PPLIB.sys.callback.genVK=function(){for(var e=["onSettingsChanged","onRequestSuccess","onRequestFail","onOrderCancel","onOrderSuccess","onOrderFail","onWindowBlur","onWindowFocus","onLocationChanged"],i=0;i<e.length;i++)window.VK.addCallback(e[i],new Function("param1, param2, param3, param4, param5"," PPLIB.sys.callback.main('"+e[i]+"', param1, param2, param3, param4, param5)"))},PPLIB.sys.callback.genMail=function(){for(var e=["friendsInvitation","friendsRequest","paymentDialogStatus","incomingPayment","readHash"],i=0;i<e.length;i++)window.mailru.events.listen(window.mailru.app.events[e[i]],new Function("event"," PPLIB.sys.callback.main('"+e[i]+"', event) "))},PPLIB.sys.callback.genRam=function(){for(var e=["onOrderSuccess","onOrderBoxUserClose","onOrderBoxUserClose","onRequestFullscreen"],i=0;i<e.length;i++)window.rgames.addCallback(e[i],new Function("param1, param2, param3, param4, param5"," PPLIB.sys.callback.main('"+e[i]+"', param1, param2, param3, param4, param5)"))},PPLIB.sys.callback.main=function(e,i,s,o,t,P){1==PPLIB.website?("onSettingsChanged"==e&&void 0!==PPLIB.sys.callback.list["pp.onSettingsChanged"]&&PPLIB.sys.callback.list["pp.onSettingsChanged"](i),"onLocationChanged"==e&&void 0!==PPLIB.sys.callback.list["pp.onLocationChanged"]&&PPLIB.sys.callback.list["pp.onLocationChanged"](i),"onRequestSuccess"==e&&void 0!==PPLIB.sys.callback.list["pp.onRequest"]&&PPLIB.sys.callback.list["pp.onRequest"]("success"),"onRequestFail"==e&&void 0!==PPLIB.sys.callback.list["pp.onRequest"]&&PPLIB.sys.callback.list["pp.onRequest"]("fail"),"onOrderCancel"==e&&void 0!==PPLIB.sys.callback.list["pp.onOrder"]&&PPLIB.sys.callback.list["pp.onOrder"]("cancel"),"onOrderSuccess"==e&&void 0!==PPLIB.sys.callback.list["pp.onOrder"]&&PPLIB.sys.callback.list["pp.onOrder"]("success",i),"onOrderFail"==e&&void 0!==PPLIB.sys.callback.list["pp.onOrder"]&&PPLIB.sys.callback.list["pp.onOrder"]("fail",i),"onWindowBlur"==e&&void 0!==PPLIB.sys.callback.list["pp.onWindowBlur"]&&PPLIB.sys.callback.list["pp.onWindowBlur"],"onWindowFocus"==e&&void 0!==PPLIB.sys.callback.list["pp.onWindowFocus"]&&PPLIB.sys.callback.list["pp.onWindowFocus"]):2==PPLIB.website?"showPayment"==e&&("ok"==i?void 0!==PPLIB.sys.callback.list["pp.onOrder"]&&PPLIB.sys.callback.list["pp.onOrder"]("success",i):void 0!==PPLIB.sys.callback.list["pp.onOrder"]&&PPLIB.sys.callback.list["pp.onOrder"]("fail",i)):3==PPLIB.website?(console.log(e),console.log(i),console.log(s),"incomingPayment"==e&&"success"==i.status&&void 0!==PPLIB.sys.callback.list["pp.onOrder"]&&PPLIB.sys.callback.list["pp.onOrder"]("success",i)):4==PPLIB.website?"buyItemCallback"==e&&"success"==i.result&&void 0!==PPLIB.sys.callback.list["pp.onOrder"]&&PPLIB.sys.callback.list["pp.onOrder"]("success",i):5==PPLIB.website?"onOrderSuccess"==e&&void 0!==PPLIB.sys.callback.list["pp.onOrder"]&&PPLIB.sys.callback.list["pp.onOrder"]("success",i):7==PPLIB.website&&("pp.userProfile"==e&&void 0!==PPLIB.sys.callback.list["pp.userProfile"]&&PPLIB.sys.callback.list["pp.userProfile"](i),"pp.userFriends"==e&&void 0!==PPLIB.sys.callback.list["pp.userFriends"]&&PPLIB.sys.callback.list["pp.userFriends"](i),"paymentReceivedCallback"==e&&void 0!==PPLIB.sys.callback.list["pp.onOrder"]&&PPLIB.sys.callback.list["pp.onOrder"]("success",i))},PPLIB.addCallback=function(e,i){0==e.indexOf("pp.")&&(PPLIB.sys.callback.list[e]=i)};